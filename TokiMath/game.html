<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ãƒˆã‚­ãƒã‚¹ TOKIMASU</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="ã“ã“ã«ã‚µã‚¤ãƒˆèª¬æ˜ã‚’å…¥ã‚Œã¾ã™">
<link rel="stylesheet" href="css/style.css">
<style>
:root {
  --header-bg: #2daaeb;
  --header-color: #ffffff;
}

header {
  background-color: var(--header-bg);
  color: var(--header-color);
}

header a {
  color: var(--header-color);
  text-decoration: none;
}
</style>

<script>
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã‚’èª­ã¿è¾¼ã‚“ã§CSSå¤‰æ•°ã«åæ˜ 
  window.addEventListener('DOMContentLoaded', () => {
    const savedBg = localStorage.getItem('headerBg') || '#2daaeb';
    const savedText = localStorage.getItem('headerText') || '#ffffff';

    document.documentElement.style.setProperty('--header-bg', savedBg);
    document.documentElement.style.setProperty('--header-color', savedText);
  });
</script>

</head>

</head>



<body>

<header>
  <h1 id="logo"><a href="index.html"><img src="images/logo.png" alt="Sample Recipe Site"></a></h1>
  <ul>
    <li><a href="about.html">å½“ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</a></li>
    <li id="ticket-count">ğŸ« ãƒã‚±ãƒƒãƒˆ: <span id="ticket-number">0</span>æš</li>
  </ul>
</header>


<div id="container">

<main>

<section>

<h2>ã‚²ãƒ¼ãƒ <span>game</span></h2>

<div class="list-container">

<div class="list" data-link="hebi.html">
  <figure><img src="images/sample/hebi.jpg" alt=""></figure>
  <div class="text">
    <h4>ãƒ˜ãƒ“ã‚²ãƒ¼ãƒ </h4>
    <p>ã§ãã‚‹ã ã‘ã‚Šã‚“ã”ã‚’é£Ÿã¹ã‚ˆã†ï¼</p>
  </div>
  <span class="icon"><img src="images/time10.png" alt=""></span>
</div>


<div class="list" data-link="tori.html">
  <figure><img src="images/sample/tori.jpg" alt=""></figure>
  <div class="text">
    <h4>ã¨ã‚Šã‚²ãƒ¼ãƒ </h4>
    <p>ã’ããƒ ã‚ºï¼</p>
  </div>
  <span class="icon"><img src="images/time10.png" alt=""></span>
</div>

<div class="list" data-link="minesweeper.html">
  <figure><img src="images/sample/minesweeper.jpg" alt=""></figure>
  <div class="text">
    <h4>ãƒã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘ãƒ¼</h4>
    <p>åœ°é›·ã‚’ã˜ã‚‡ãã‚‡ã—ã‚ˆã†ï¼</p>
  </div>
  <span class="icon"><img src="images/time10.png" alt=""></span>
</div>

</div>
<!--/.list-container-->

</section>

<!--ãƒšãƒ¼ã‚¸ã®ä¸Šéƒ¨ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³-->
<div class="pagetop"><a href="#"><i class="fas fa-angle-double-up"></i></a></div>


</main>

<!--é–‹é–‰ãƒ–ãƒ­ãƒƒã‚¯-->
<div id="menubar">

<h3><a href="index.html">ãƒ¡ã‚¤ãƒ³</a></h3>

<h3><a href="login.html">ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹</a></h3>

<h3><a href="kaimono.html">ã‹ã„ã‚‚ã®</a></h3>

<h3><a href="game.html">ã‚²ãƒ¼ãƒ </a></h3>

<h3><a href="musicbox.html">éŸ³æ¥½</a></h3>

</ul>

</div>
<!--/#menubar-->

</div>
<!--/#container-->

<!--/#footermenu-->

<footer>
<small>Copyright&copy; <a href="index.html">Sample Recipe Site</a> All Rights Reserved.</small>
<span class="pr"><a href="https://template-party.com/" target="_blank">ã€ŠWeb Design:Template-Partyã€‹</a></span>
</footer>

<!--é–‹é–‰ãƒœã‚¿ãƒ³ï¼ˆãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ï¼‰-->
<div id="menubar_hdr">
<span></span><span></span><span></span>
</div>

<!--jQueryã®èª­ã¿è¾¼ã¿-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!--ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå°‚ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ-->
<script src="js/main.js"></script>
<script>
  console.log("ğŸ‘‰ ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿:", location.href);
  console.log("localStorage ticket (on load):", localStorage.getItem("ticket"));

  window.addEventListener("beforeunload", () => {
    console.log("ğŸ‘ˆ beforeunload, final ticket:", localStorage.getItem("ticket"));
  });
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  let ticket = parseInt(localStorage.getItem('ticket')) || 0;
  const ticketDisplay = document.getElementById('ticket-number');
  if (ticketDisplay) {
    ticketDisplay.textContent = ticket;
  }

  const listItems = document.querySelectorAll('.list');

  listItems.forEach(list => {
    list.addEventListener('click', function () {
      const link = list.getAttribute('data-link');
      if (!link) return;

      ticket = parseInt(localStorage.getItem('ticket')) || 0;

      if (ticket <= 0) {
        alert('ãƒã‚±ãƒƒãƒˆãŒè¶³ã‚Šãªã„ã‚ˆï¼');
        return;
      }

      ticket -= 1;
      localStorage.setItem('ticket', ticket);

      if (ticketDisplay) {
        ticketDisplay.textContent = ticket;
      }

      // é·ç§»
      setTimeout(() => {
        window.location.href = link;
      }, 100);
    });
  });
});

</script>

<script>
  let inputBuffer = "";

  document.addEventListener("keydown", function (e) {
    // è‹±å­—ã‚­ãƒ¼ã ã‘ã«é™å®šï¼ˆè‹±å°æ–‡å­—ï¼‰
    if (e.key.length === 1 && /[a-zA-Z]/.test(e.key)) {
      inputBuffer += e.key.toLowerCase();

      // å…¥åŠ›ãƒãƒƒãƒ•ã‚¡ãŒ6æ–‡å­—ã‚’è¶…ãˆãŸã‚‰å…ˆé ­ã‚’å‰Šé™¤
      if (inputBuffer.length > 10) {
        inputBuffer = inputBuffer.slice(-10);
      }

      // "casino" ãŒå«ã¾ã‚Œã¦ã„ãŸã‚‰ãƒšãƒ¼ã‚¸é·ç§»
      if (inputBuffer.includes("casino")) {
        alert("éš ã—ã‚³ãƒãƒ³ãƒ‰ç™ºå‹•ï¼ã‚«ã‚¸ãƒã«ç§»å‹•ã—ã¾ã™ï¼");
        window.location.href = "gamble.html";
      }
    }
  });
</script>


</body>
</html>
