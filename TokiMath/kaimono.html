<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ãƒˆã‚­ãƒã‚¹ TOKIMASU</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="ã“ã“ã«ã‚µã‚¤ãƒˆèª¬æ˜ã‚’å…¥ã‚Œã¾ã™">
<link rel="stylesheet" href="css/style.css">

<style>
:root {
  --header-bg: #2daaeb;
  --header-color: #ffffff;
}

header {
  background-color: var(--header-bg);
  color: var(--header-color);
}

header a {
  color: var(--header-color);
  text-decoration: none;
}
</style>

<script>
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã‚’èª­ã¿è¾¼ã‚“ã§CSSå¤‰æ•°ã«åæ˜ 
  window.addEventListener('DOMContentLoaded', () => {
    const savedBg = localStorage.getItem('headerBg') || '#2daaeb';
    const savedText = localStorage.getItem('headerText') || '#ffffff';

    document.documentElement.style.setProperty('--header-bg', savedBg);
    document.documentElement.style.setProperty('--header-color', savedText);
  });
</script>

</head>

<body>

<header>
  <h1 id="logo"><a href="index.html"><img src="images/logo.png" alt="Sample Recipe Site"></a></h1>
  <ul>
  	<li id="coin-count">ğŸª™ã‚³ã‚¤ãƒ³: 0æš</p>
    <li><a href="about.html">å½“ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</a></li>
  </ul>
</header>


<div id="container">

<main>

<section>

<h2>ã‹ã„ã‚‚ã®<span>Recipe</span></h2>

<div class="list-container">


    <div class="item">
      <p>ãƒã‚±ãƒƒãƒˆ ğŸŸï¸ 30ã‚³ã‚¤ãƒ³</p>
      <button onclick="buyTicket(30)">è²·ã†</button>
    </div>

<div class="item">
  <p>ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ãƒã‚±ãƒƒãƒˆ ğŸ¶ 10ã‚³ã‚¤ãƒ³</p>
  <button onclick="buyMusicTicket(10)">è²·ã†</button>
</div>

<p id="message"></p>

</div>
<!--/.list-container-->

</section>

</main>

<!--é–‹é–‰ãƒ–ãƒ­ãƒƒã‚¯-->
<div id="menubar">

<h3><a href="index.html">ãƒ¡ã‚¤ãƒ³</a></h3>

<h3><a href="login.html">ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹</a></h3>

<h3><a href="kaimono.html">ã‹ã„ã‚‚ã®</a></h3>

<h3><a href="game.html">ã‚²ãƒ¼ãƒ </a></h3>

<h3><a href="musicbox.html">éŸ³æ¥½</a></h3>

</div>
<!--/#menubar-->

</div>

<footer>
<small>Copyright&copy; <a href="index.html">Sample Recipe Site</a> All Rights Reserved.</small>
<span class="pr"><a href="https://template-party.com/" target="_blank">ã€ŠWeb Design:Template-Partyã€‹</a></span>
</footer>

<!--é–‹é–‰ãƒœã‚¿ãƒ³ï¼ˆãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ï¼‰-->
<div id="menubar_hdr">
<span></span><span></span><span></span>
</div>

<!--jQueryã®èª­ã¿è¾¼ã¿-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!--ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå°‚ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ-->
<script src="js/main.js"></script>

<script>
function getCoin() {
  return parseInt(localStorage.getItem('coin') || '0');
}

function setCoin(newAmount) {
  localStorage.setItem('coin', newAmount);
  document.getElementById('coin-count').textContent = "æ‰€æŒã‚³ã‚¤ãƒ³: " + newAmount + "æš";
}

  // --- ãƒã‚±ãƒƒãƒˆ ---
  function getTicket() {
    return parseInt(localStorage.getItem('ticket') || '0');
  }

  function setTicket(amount) {
    localStorage.setItem('ticket', amount);
    document.getElementById('ticket-count').textContent = "æ‰€æŒãƒã‚±ãƒƒãƒˆ: " + amount + "æš";
  }

  function addTicket(amount) {
    setTicket(getTicket() + amount);
  }
  
    function buyTicket(price) {
    const currentCoin = getCoin();
    const message = document.getElementById('message');

    if (currentCoin >= price) {
      setCoin(currentCoin - price);
      addTicket(1);
      message.textContent = "ãƒã‚±ãƒƒãƒˆã‚’è²·ã„ã¾ã—ãŸï¼ğŸŸï¸";
      message.style.color = "green";
    } else {
      message.textContent = "ã‚³ã‚¤ãƒ³ãŒè¶³ã‚Šã¾ã›ã‚“";
      message.style.color = "red";
    }
  }

function buyItem(price, itemName) {
  const currentCoin = getCoin();
  const message = document.getElementById('message');

  if (currentCoin >= price) {
    const newCoin = currentCoin - price;
    setCoin(newCoin);
    message.textContent = itemName + " ã‚’è²·ã„ã¾ã—ãŸï¼ğŸ‰";
    message.style.color = "green";
  } else {
    message.textContent = "ã‚³ã‚¤ãƒ³ãŒè¶³ã‚Šã¾ã›ã‚“";
    message.style.color = "red";
  }
}


// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ã‚¤ãƒ³è¡¨ç¤º
setCoin(getCoin());

function getCoin() {
  return parseInt(localStorage.getItem('coin') || '0');
}

function setCoin(newAmount) {
  localStorage.setItem('coin', newAmount);
  document.getElementById('coin-count').textContent = "ğŸª™ã‚³ã‚¤ãƒ³: " + newAmount + "æš";
}

function addCoin(amount) {
  const newCoin = getCoin() + amount;
  setCoin(newCoin);
}

window.addEventListener('DOMContentLoaded', function() {
  const currentCoin = getCoin();
  setCoin(currentCoin);
  updateMusicTicketDisplay();
});

// --- ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ãƒã‚±ãƒƒãƒˆç®¡ç† ---
function getMusicTicket() {
  return parseInt(localStorage.getItem('musicTickets') || '0');
}

function setMusicTicket(amount) {
  localStorage.setItem('musicTickets', amount);
  updateMusicTicketDisplay();
}

function addMusicTicket(amount) {
  setMusicTicket(getMusicTicket() + amount);
}

function updateMusicTicketDisplay() {
  document.getElementById('music-ticket-count').textContent = 
    "ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ãƒã‚±ãƒƒãƒˆ: " + getMusicTicket() + "æš";
}

// --- è³¼å…¥å‡¦ç†ï¼ˆãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ãƒã‚±ãƒƒãƒˆç”¨ï¼‰ ---
function buyMusicTicket(price) {
  const currentCoin = getCoin();
  const message = document.getElementById('message');

  if (currentCoin >= price) {
    setCoin(currentCoin - price);
    addMusicTicket(1);
    message.textContent = "ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ãƒã‚±ãƒƒãƒˆã‚’è²·ã„ã¾ã—ãŸï¼ğŸ¶";
    message.style.color = "green";
  } else {
    message.textContent = "ã‚³ã‚¤ãƒ³ãŒè¶³ã‚Šã¾ã›ã‚“";
    message.style.color = "red";
  }
}


</script>


<!--ãƒšãƒ¼ã‚¸ã®ä¸Šéƒ¨ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³-->
<div class="pagetop"><a href="#"><i class="fas fa-angle-double-up"></i></a></div>

</body>
</html>
